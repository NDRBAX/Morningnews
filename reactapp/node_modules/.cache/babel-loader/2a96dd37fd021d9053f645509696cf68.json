{"ast":null,"code":"var _jsxFileName = \"/Users/andrebac/Downloads/laCapsule/morningnews-part2/reactapp/src/ScreenHome.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nfunction ScreenHome(props) {\n  const [signUpUserName, setSignUpUserName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorMessageSignin, setErrorMessageSignin] = useState(\"\");\n\n  const handleSubmitSignUp = props => {\n    const signUpDataBase = async () => {\n      let rawResponse = await fetch(\"/sign-up\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: `usernameFromFront=${signUpUserName}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`\n      });\n      let response = await rawResponse.json();\n      console.log(response);\n\n      if (!response.result) {\n        setErrorMessage(\"Oups ! Cet utilisateur existe dÃ©jÃ  ou l'un des champs est vide ðŸ˜Ÿ\");\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n\n    signUpDataBase();\n  };\n\n  const handleSubmitSignIn = props => {\n    const checkDB = async () => {\n      let rawResponse = await fetch(\"/sign-in\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`\n      });\n      let response = await rawResponse.json(); // console.log(response);\n\n      if (!response.result) {\n        setErrorMessageSignin(\"L'email ou le password n'existe pas !ðŸ˜¤\");\n      } else {\n        setIsLogin(true);\n      }\n    };\n\n    checkDB();\n  };\n\n  useEffect(() => {// console.log(isLogin);\n  }, [isLogin]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Morning News \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, isLogin ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/screensource\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 20\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"arthur@lacapsule.com\",\n    required: true,\n    onChange: e => setSignInEmail(e.target.value),\n    value: signInEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input.Password, {\n    className: \"Login-input\",\n    placeholder: \"password\",\n    required: true,\n    onChange: e => setSignInPassword(e.target.value),\n    value: signInPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, errorMessageSignin), /*#__PURE__*/React.createElement(Button, {\n    href: \"\",\n    style: {\n      width: \"80px\"\n    },\n    onClick: e => {\n      e.preventDefault();\n      handleSubmitSignIn(props);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Sign-In\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"User\",\n    required: true,\n    onChange: e => {\n      setSignUpUserName(e.target.value);\n      setErrorMessage(\"\");\n    },\n    value: signUpUserName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"arthur@lacapsule.com\",\n    required: true,\n    onChange: e => {\n      setSignUpEmail(e.target.value);\n      setErrorMessage(\"\");\n    },\n    value: signUpEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input.Password, {\n    className: \"Login-input\",\n    placeholder: \"password\",\n    required: true,\n    onChange: e => {\n      setSignUpPassword(e.target.value);\n      setErrorMessage(\"\");\n    },\n    value: signUpPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, errorMessage), /*#__PURE__*/React.createElement(Button, {\n    href: \"\",\n    style: {\n      width: \"80px\"\n    },\n    onClick: e => {\n      e.preventDefault();\n      handleSubmitSignUp(props);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, \"Sign-up\"))));\n}\n\nexport default ScreenHome;","map":{"version":3,"sources":["/Users/andrebac/Downloads/laCapsule/morningnews-part2/reactapp/src/ScreenHome.js"],"names":["React","useState","useEffect","Redirect","Input","Button","Link","ScreenHome","props","signUpUserName","setSignUpUserName","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signInEmail","setSignInEmail","signInPassword","setSignInPassword","isLogin","setIsLogin","errorMessage","setErrorMessage","errorMessageSignin","setErrorMessageSignin","handleSubmitSignUp","signUpDataBase","rawResponse","fetch","method","headers","body","response","json","console","log","result","recordToken","token","handleSubmitSignIn","checkDB","e","target","value","width","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nfunction ScreenHome(props) {\n  const [signUpUserName, setSignUpUserName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorMessageSignin, setErrorMessageSignin] = useState(\"\");\n\n  const handleSubmitSignUp = (props) => {\n    const signUpDataBase = async () => {\n      let rawResponse = await fetch(\"/sign-up\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: `usernameFromFront=${signUpUserName}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`,\n      });\n      let response = await rawResponse.json();\n\n      console.log(response);\n      if (!response.result) {\n        setErrorMessage(\n          \"Oups ! Cet utilisateur existe dÃ©jÃ  ou l'un des champs est vide ðŸ˜Ÿ\"\n        );\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n    signUpDataBase();\n  };\n\n  const handleSubmitSignIn = (props) => {\n    const checkDB = async () => {\n      let rawResponse = await fetch(\"/sign-in\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`,\n      });\n      let response = await rawResponse.json();\n      // console.log(response);\n      if (!response.result) {\n        setErrorMessageSignin(\"L'email ou le password n'existe pas !ðŸ˜¤\");\n      } else {\n        setIsLogin(true);\n      }\n    };\n    checkDB();\n  };\n\n  useEffect(() => {\n    // console.log(isLogin);\n  }, [isLogin]);\n\n  return (\n    <div className=\"header\">\n      <div className=\"titre\">\n        <h1>Morning News </h1>\n      </div>\n      <div className=\"Login-page\">\n        {isLogin ? <Redirect to=\"/screensource\" /> : null}\n\n        {/* SIGN-IN */}\n\n        <div className=\"Sign\">\n          <Input\n            className=\"Login-input\"\n            placeholder=\"arthur@lacapsule.com\"\n            required\n            onChange={(e) => setSignInEmail(e.target.value)}\n            value={signInEmail}\n          />\n\n          <Input.Password\n            className=\"Login-input\"\n            placeholder=\"password\"\n            required\n            onChange={(e) => setSignInPassword(e.target.value)}\n            value={signInPassword}\n          />\n\n          <h5 className=\"error-message\">{errorMessageSignin}</h5>\n          <Button\n            href=\"\"\n            style={{ width: \"80px\" }}\n            onClick={(e) => {\n              e.preventDefault();\n              handleSubmitSignIn(props);\n            }}\n          >\n            Sign-In\n          </Button>\n        </div>\n\n        {/* SIGN-UP */}\n\n        <div className=\"Sign\">\n          <Input\n            className=\"Login-input\"\n            placeholder=\"User\"\n            required\n            onChange={(e) => {\n              setSignUpUserName(e.target.value);\n              setErrorMessage(\"\");\n            }}\n            value={signUpUserName}\n          />\n\n          <Input\n            className=\"Login-input\"\n            placeholder=\"arthur@lacapsule.com\"\n            required\n            onChange={(e) => {\n              setSignUpEmail(e.target.value);\n              setErrorMessage(\"\");\n            }}\n            value={signUpEmail}\n          />\n\n          <Input.Password\n            className=\"Login-input\"\n            placeholder=\"password\"\n            required\n            onChange={(e) => {\n              setSignUpPassword(e.target.value);\n              setErrorMessage(\"\");\n            }}\n            value={signUpPassword}\n          />\n          <h5 className=\"error-message\">{errorMessage}</h5>\n          <Button\n            href=\"\"\n            style={{ width: \"80px\" }}\n            onClick={(e) => {\n              e.preventDefault();\n              handleSubmitSignUp(props);\n            }}\n          >\n            Sign-up\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ScreenHome;\n"]},"metadata":{},"sourceType":"module"}