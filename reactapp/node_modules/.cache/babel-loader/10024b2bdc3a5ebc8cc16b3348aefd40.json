{"ast":null,"code":"var _jsxFileName = \"/Users/andrebac/Downloads/laCapsule/morningnews-part2/reactapp/src/ScreenHome.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nfunction ScreenHome() {\n  const [signUpUserName, setSignUpUserName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorMessageSignin, setErrorMessageSignin] = useState(\"\");\n\n  const handleSubmitSignUp = props => {\n    const signUpDataBase = async () => {\n      let rawResponse = await fetch(\"/sign-up\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: `usernameFromFront=${signUpUserName}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`\n      });\n      let response = await rawResponse.json();\n      console.log(response);\n\n      if (!response.result) {\n        setErrorMessage(\"Oups ! Cet utilisateur existe dÃ©jÃ  ou l'un des champs est vide ðŸ˜Ÿ\");\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n\n    signUpDataBase();\n  };\n\n  const handleSubmitSignIn = props => {\n    const checkDB = async () => {\n      let rawResponse = await fetch(\"/sign-in\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`\n      });\n      let response = await rawResponse.json(); // console.log(response);\n\n      if (!response.result) {\n        setErrorMessageSignin(\"L'email ou le password n'existe pas !ðŸ˜¤\");\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n\n    checkDB();\n  };\n\n  useEffect(() => {// console.log(isLogin);\n  }, [isLogin]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Morning News \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, isLogin ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/screensource\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 20\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"arthur@lacapsule.com\",\n    required: true,\n    onChange: e => setSignInEmail(e.target.value),\n    value: signInEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input.Password, {\n    className: \"Login-input\",\n    placeholder: \"password\",\n    required: true,\n    onChange: e => setSignInPassword(e.target.value),\n    value: signInPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, errorMessageSignin), /*#__PURE__*/React.createElement(Link, {\n    to: \"/screensource\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: \"80px\"\n    },\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Sign-in\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"Arthur G\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input.Password, {\n    className: \"Login-input\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/screensource\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: \"80px\"\n    },\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Sign-up\")))));\n}\n\nexport default ScreenHome;","map":{"version":3,"sources":["/Users/andrebac/Downloads/laCapsule/morningnews-part2/reactapp/src/ScreenHome.js"],"names":["React","useState","useEffect","Redirect","Input","Button","Link","ScreenHome","signUpUserName","setSignUpUserName","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signInEmail","setSignInEmail","signInPassword","setSignInPassword","isLogin","setIsLogin","errorMessage","setErrorMessage","errorMessageSignin","setErrorMessageSignin","handleSubmitSignUp","props","signUpDataBase","rawResponse","fetch","method","headers","body","response","json","console","log","result","recordToken","token","handleSubmitSignIn","checkDB","e","target","value","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nfunction ScreenHome() {\n  const [signUpUserName, setSignUpUserName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorMessageSignin, setErrorMessageSignin] = useState(\"\");\n\n  const handleSubmitSignUp = (props) => {\n    const signUpDataBase = async () => {\n      let rawResponse = await fetch(\"/sign-up\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: `usernameFromFront=${signUpUserName}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`,\n      });\n      let response = await rawResponse.json();\n\n      console.log(response);\n      if (!response.result) {\n        setErrorMessage(\n          \"Oups ! Cet utilisateur existe dÃ©jÃ  ou l'un des champs est vide ðŸ˜Ÿ\"\n        );\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n    signUpDataBase();\n  };\n\n  const handleSubmitSignIn = (props) => {\n    const checkDB = async () => {\n      let rawResponse = await fetch(\"/sign-in\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`,\n      });\n      let response = await rawResponse.json();\n      // console.log(response);\n      if (!response.result) {\n        setErrorMessageSignin(\"L'email ou le password n'existe pas !ðŸ˜¤\");\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n    checkDB();\n  };\n\n  useEffect(() => {\n    // console.log(isLogin);\n  }, [isLogin]);\n\n  return (\n    <div className=\"header\">\n      <div className=\"titre\">\n        <h1>Morning News </h1>\n      </div>\n      <div className=\"Login-page\">\n        {isLogin ? <Redirect to=\"/screensource\" /> : null}\n\n        {/* SIGN-IN */}\n\n        <div className=\"Sign\">\n          <Input\n            className=\"Login-input\"\n            placeholder=\"arthur@lacapsule.com\"\n            required\n            onChange={(e) => setSignInEmail(e.target.value)}\n            value={signInEmail}\n          />\n\n          <Input.Password\n            className=\"Login-input\"\n            placeholder=\"password\"\n            required\n            onChange={(e) => setSignInPassword(e.target.value)}\n            value={signInPassword}\n          />\n\n          <h5 className=\"error-message\">{errorMessageSignin}</h5>\n          <Link to=\"/screensource\">\n            <Button style={{ width: \"80px\" }} type=\"primary\">\n              Sign-in\n            </Button>\n          </Link>\n        </div>\n\n        {/* SIGN-UP */}\n\n        <div className=\"Sign\">\n          <Input className=\"Login-input\" placeholder=\"Arthur G\" />\n\n          <Input.Password className=\"Login-input\" placeholder=\"password\" />\n\n          <Link to=\"/screensource\">\n            <Button style={{ width: \"80px\" }} type=\"primary\">\n              Sign-up\n            </Button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ScreenHome;\n"]},"metadata":{},"sourceType":"module"}