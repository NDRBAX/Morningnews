{"ast":null,"code":"var _jsxFileName = \"/Users/andrebac/Downloads/laCapsule/Morningnews/morningnews-part2/reactapp/src/ScreenHome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ScreenHome() {\n  _s();\n\n  const [signUpUserName, setSignUpUserName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorMessageSignin, setErrorMessageSignin] = useState(\"\");\n\n  const handleSubmitSignUp = () => {\n    const signUpDataBase = async () => {\n      let rawResponse = await fetch(\"/sign-up\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: `usernameFromFront=${signUpUserName}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`\n      });\n      let response = await rawResponse.json();\n      console.log(response);\n\n      if (!response.result) {\n        setErrorMessage(\"Oups ! Cet utilisateur existe dÃ©jÃ  ou l'un des champs est vide ðŸ˜Ÿ\");\n      } else {\n        isLogin(true);\n      }\n    };\n\n    signUpDataBase();\n  };\n\n  const handleSubmitSignIn = props => {\n    const checkDB = async () => {\n      let rawResponse = await fetch(\"/sign-in\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`\n      });\n      let response = await rawResponse.json(); // console.log(response);\n\n      if (!response.result) {\n        setErrorMessageSignin(\"L'email ou le password n'existe pas !ðŸ˜¤\");\n      } else {\n        setIsLogin(true);\n      }\n    };\n\n    checkDB();\n  };\n\n  useEffect(() => {// console.log(isLogin);\n  }, [isLogin]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"header\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login-page\",\n      children: [isLogin ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/screensource\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 20\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Sign\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          className: \"Login-input\",\n          placeholder: \"arthur@lacapsule.com\",\n          required: true,\n          onChange: e => setSignInEmail(e.target.value),\n          value: signInEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input.Password, {\n          className: \"Login-input\",\n          placeholder: \"password\",\n          required: true,\n          onChange: e => setSignInPassword(e.target.value),\n          value: signInPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"error-message\",\n          children: errorMessageSignin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          href: \"\",\n          style: {\n            width: \"80px\"\n          },\n          onClick: e => {\n            e.preventDefault();\n            handleSubmitSignIn(props);\n          },\n          children: \"Sign-In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Sign\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          className: \"Login-input\",\n          placeholder: \"User\",\n          required: true,\n          onChange: e => {\n            setSignUpUserName(e.target.value);\n            setErrorMessage(\"\");\n          },\n          value: signUpUserName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          className: \"Login-input\",\n          placeholder: \"arthur@lacapsule.com\",\n          required: true,\n          onChange: e => {\n            setSignUpEmail(e.target.value);\n            setErrorMessage(\"\");\n          },\n          value: signUpEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input.Password, {\n          className: \"Login-input\",\n          placeholder: \"password\",\n          required: true,\n          onChange: e => {\n            setSignUpPassword(e.target.value);\n            setErrorMessage(\"\");\n          },\n          value: signUpPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"error-message\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          href: \"\",\n          style: {\n            width: \"80px\"\n          },\n          onClick: e => {\n            e.preventDefault();\n            handleSubmitSignUp(props);\n          },\n          children: \"Sign-up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ScreenHome, \"SS68vvvN+8IKIP5gCZNvgRdXuCU=\");\n\n_c = ScreenHome;\nexport default ScreenHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"ScreenHome\");","map":{"version":3,"sources":["/Users/andrebac/Downloads/laCapsule/Morningnews/morningnews-part2/reactapp/src/ScreenHome.js"],"names":["React","useState","useEffect","Redirect","Input","Button","ScreenHome","signUpUserName","setSignUpUserName","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signInEmail","setSignInEmail","signInPassword","setSignInPassword","isLogin","setIsLogin","errorMessage","setErrorMessage","errorMessageSignin","setErrorMessageSignin","handleSubmitSignUp","signUpDataBase","rawResponse","fetch","method","headers","body","response","json","console","log","result","handleSubmitSignIn","props","checkDB","e","target","value","width","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\n\nfunction ScreenHome() {\n  const [signUpUserName, setSignUpUserName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorMessageSignin, setErrorMessageSignin] = useState(\"\");\n\n  const handleSubmitSignUp = () => {\n    const signUpDataBase = async () => {\n      let rawResponse = await fetch(\"/sign-up\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: `usernameFromFront=${signUpUserName}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`,\n      });\n      let response = await rawResponse.json();\n      console.log(response);\n\n      if (!response.result) {\n        setErrorMessage(\n          \"Oups ! Cet utilisateur existe dÃ©jÃ  ou l'un des champs est vide ðŸ˜Ÿ\"\n        );\n      } else {\n        isLogin(true)\n      }\n    };\n    signUpDataBase();\n  };\n\n  const handleSubmitSignIn = (props) => {\n    const checkDB = async () => {\n      let rawResponse = await fetch(\"/sign-in\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`,\n      });\n      let response = await rawResponse.json();\n      // console.log(response);\n      if (!response.result) {\n        setErrorMessageSignin(\"L'email ou le password n'existe pas !ðŸ˜¤\");\n      } else {\n        setIsLogin(true);\n      }\n    };\n    checkDB();\n  };\n\n  useEffect(() => {\n    // console.log(isLogin);\n  }, [isLogin]);\n\n  return (\n    <div className=\"header\">\n      {/* <div className=\"titre\">\n        <h1>Morning News </h1>\n      </div> */}\n      <div className=\"Login-page\">\n        {isLogin ? <Redirect to=\"/screensource\" /> : null}\n\n        {/* SIGN-IN */}\n\n        <div className=\"Sign\">\n          <Input\n            className=\"Login-input\"\n            placeholder=\"arthur@lacapsule.com\"\n            required\n            onChange={(e) => setSignInEmail(e.target.value)}\n            value={signInEmail}\n          />\n\n          <Input.Password\n            className=\"Login-input\"\n            placeholder=\"password\"\n            required\n            onChange={(e) => setSignInPassword(e.target.value)}\n            value={signInPassword}\n          />\n\n          <h5 className=\"error-message\">{errorMessageSignin}</h5>\n          <Button\n            href=\"\"\n            style={{ width: \"80px\" }}\n            onClick={(e) => {\n              e.preventDefault();\n              handleSubmitSignIn(props);\n            }}\n          >\n            Sign-In\n          </Button>\n        </div>\n\n        {/* SIGN-UP */}\n\n        <div className=\"Sign\">\n          <Input\n            className=\"Login-input\"\n            placeholder=\"User\"\n            required\n            onChange={(e) => {\n              setSignUpUserName(e.target.value);\n              setErrorMessage(\"\");\n            }}\n            value={signUpUserName}\n          />\n\n          <Input\n            className=\"Login-input\"\n            placeholder=\"arthur@lacapsule.com\"\n            required\n            onChange={(e) => {\n              setSignUpEmail(e.target.value);\n              setErrorMessage(\"\");\n            }}\n            value={signUpEmail}\n          />\n\n          <Input.Password\n            className=\"Login-input\"\n            placeholder=\"password\"\n            required\n            onChange={(e) => {\n              setSignUpPassword(e.target.value);\n              setErrorMessage(\"\");\n            }}\n            value={signUpPassword}\n          />\n          <h5 className=\"error-message\">{errorMessage}</h5>\n          <Button\n            href=\"\"\n            style={{ width: \"80px\" }}\n            onClick={(e) => {\n              e.preventDefault();\n              handleSubmitSignUp(props);\n            }}\n          >\n            Sign-up\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ScreenHome;\n"]},"metadata":{},"sourceType":"module"}