{"ast":null,"code":"var _jsxFileName = \"/Users/andrebac/Downloads/laCapsule/morningnews-part2/reactapp/src/ScreenHome.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nfunction ScreenHome() {\n  const [signUpUserName, setSignUpUserName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorMessageSignin, setErrorMessageSignin] = useState(\"\");\n\n  const handleSubmitSignUp = props => {\n    const signUpDataBase = async () => {\n      let rawResponse = await fetch(\"/sign-up\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: `usernameFromFront=${signUpUserName}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`\n      });\n      let response = await rawResponse.json();\n      console.log(response);\n\n      if (!response.result) {\n        setErrorMessage(\"Oups ! Cet utilisateur existe dÃ©jÃ  ou l'un des champs est vide ðŸ˜Ÿ\");\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n\n    signUpDataBase();\n  };\n\n  const handleSubmitSignIn = props => {\n    const checkDB = async () => {\n      let rawResponse = await fetch(\"/sign-in\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`\n      });\n      let response = await rawResponse.json(); // console.log(response);\n\n      if (!response.result) {\n        setErrorMessageSignin(\"L'email ou le password n'existe pas !ðŸ˜¤\");\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n\n    checkDB();\n  };\n\n  useEffect(() => {// console.log(isLogin);\n  }, [isLogin]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Morning News \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, isLogin ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/screensource\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 20\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"arthur@lacapsule.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input.Password, {\n    className: \"Login-input\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/screensource\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: \"80px\"\n    },\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Sign-in\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"Login-input\",\n    placeholder: \"Arthur G\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input.Password, {\n    className: \"Login-input\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/screensource\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: \"80px\"\n    },\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Sign-up\")))));\n}\n\nexport default ScreenHome;","map":{"version":3,"sources":["/Users/andrebac/Downloads/laCapsule/morningnews-part2/reactapp/src/ScreenHome.js"],"names":["React","useState","useEffect","Input","Button","Link","ScreenHome","signUpUserName","setSignUpUserName","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signInEmail","setSignInEmail","signInPassword","setSignInPassword","isLogin","setIsLogin","errorMessage","setErrorMessage","errorMessageSignin","setErrorMessageSignin","handleSubmitSignUp","props","signUpDataBase","rawResponse","fetch","method","headers","body","response","json","console","log","result","recordToken","token","handleSubmitSignIn","checkDB","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Input, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nfunction ScreenHome() {\n  const [signUpUserName, setSignUpUserName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorMessageSignin, setErrorMessageSignin] = useState(\"\");\n\n  const handleSubmitSignUp = (props) => {\n    const signUpDataBase = async () => {\n      let rawResponse = await fetch(\"/sign-up\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: `usernameFromFront=${signUpUserName}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`,\n      });\n      let response = await rawResponse.json();\n\n      console.log(response);\n      if (!response.result) {\n        setErrorMessage(\n          \"Oups ! Cet utilisateur existe dÃ©jÃ  ou l'un des champs est vide ðŸ˜Ÿ\"\n        );\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n    signUpDataBase();\n  };\n\n  const handleSubmitSignIn = (props) => {\n    const checkDB = async () => {\n      let rawResponse = await fetch(\"/sign-in\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`,\n      });\n      let response = await rawResponse.json();\n      // console.log(response);\n      if (!response.result) {\n        setErrorMessageSignin(\"L'email ou le password n'existe pas !ðŸ˜¤\");\n      } else {\n        setIsLogin(true);\n        props.recordToken(response.token);\n      }\n    };\n    checkDB();\n  };\n\n  useEffect(() => {\n    // console.log(isLogin);\n  }, [isLogin]);\n\n  return (\n    <div className=\"header\">\n      <div className=\"titre\">\n        <h1>Morning News </h1>\n      </div>\n      <div className=\"Login-page\">\n        {isLogin ? <Redirect to=\"/screensource\" /> : null}\n\n        {/* SIGN-IN */}\n\n        <div className=\"Sign\">\n          <Input className=\"Login-input\" placeholder=\"arthur@lacapsule.com\" />\n\n          <Input.Password className=\"Login-input\" placeholder=\"password\" />\n\n          <Link to=\"/screensource\">\n            <Button style={{ width: \"80px\" }} type=\"primary\">\n              Sign-in\n            </Button>\n          </Link>\n        </div>\n\n        {/* SIGN-UP */}\n\n        <div className=\"Sign\">\n          <Input className=\"Login-input\" placeholder=\"Arthur G\" />\n\n          <Input.Password className=\"Login-input\" placeholder=\"password\" />\n\n          <Link to=\"/screensource\">\n            <Button style={{ width: \"80px\" }} type=\"primary\">\n              Sign-up\n            </Button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ScreenHome;\n"]},"metadata":{},"sourceType":"module"}